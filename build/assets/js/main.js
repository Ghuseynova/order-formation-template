"use strict";document.body.onload=function(){var e=document.querySelector(".preloader");e.classList.contains("done")||e.classList.add("done")};var sSlider=function(){var e=document.querySelectorAll(".js-slider"),o=window.innerWidth||document.clientWidth||body.clientWidth;e.forEach(function(e,t){e=tns({container:e,items:1,slideBy:1,nav:!0,speed:500,controls:!1,mouseDrag:!0,navAsThumbnails:!0,swipeAngle:!1,preventScrollOnTouch:"auto",autoplay:0===t,autoplayTimeout:5e3,autoplayText:["",""],autoplayButton:!1});e.events.on("transitionStart",function(e){e.slideItems[e.index].classList.remove("fadeInLeft")}),e.events.on("transitionEnd",function(e){e.slideItems[e.index].classList.add("fadeInLeft")}),2<t&&1024<=o&&e.destroy()})},tabs=function(){var o=document.querySelectorAll(".h-tab__link"),n=document.querySelectorAll(".h-content__pane");function t(e){e.preventDefault();var t=e.currentTarget,e=t.getAttribute("href");n.forEach(function(e){e.classList.remove("is-active")}),o.forEach(function(e){e.classList.remove("is-active")}),document.querySelector("#"+e).classList.add("is-active"),t.classList.add("is-active")}o.forEach(function(e){e.addEventListener("click",t)})},toRemoveSectionSlider=function(){document.querySelector(".js-section");var e,t=document.querySelector(".js-section .container"),o=document.querySelector(".js-section .section__inner");1024<=(window.innerWidth||document.clientWidth||body.clientWidth)&&(e=document.querySelectorAll(".section__item"),o.remove(),t.insertAdjacentHTML("beforeend",'<div class="section__inner"></div>'),e.forEach(function(e,t){e=e.cloneNode(!0),document.querySelector(".section__inner").insertAdjacentElement("beforeend",e)}))},popupClose=function(){document.querySelector(".popup");var e=document.querySelector(".popup__overlay"),t=document.querySelector(".js-popup-close"),o=document.body;e.addEventListener("click",function(e){getClosest(e.target,".popup").classList.remove("popup--opened"),o.classList.remove("is-unscrolled")}),t.addEventListener("click",function(e){getClosest(e.target,".popup").classList.remove("popup--opened"),o.classList.remove("is-unscrolled")})},getClosest=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),o=t.length;0<=--o&&t.item(o)!==this;);return-1<o});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},validateForm=function(){return jQuery.validator.addMethod("emailfull",function(e,t){return this.optional(t)||/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i.test(e)},"Обязательное поле"),0<$(".js-validate").length&&$(".js-validate").each(function(){$(this).validate({rules:{user_name:"required",phone:"required",user_email:{required:!0,emailfull:!0}},messages:{user_name:"",user_email:""},submitHandler:function(e){var n=document.querySelector(".s-form__load"),s=document.querySelector(".s-form__btn");emailjs.sendForm("gmail","flexsent",e,"user_SKdGUhnh40zTmMySWblYy").then(function(e){var t=document.querySelector("#done"),o=document.body;console.log(e.text),t.classList.add("popup--opened"),o.classList.add("is-unscrolled"),setTimeout(function(){t.classList.contains("popup--opened")&&setTimeout(function(){t.classList.remove("popup--opened"),o.classList.remove("is-unscrolled")},3e3)},3e3),n.classList.remove("is-sending"),s.classList.remove("is-disabled")},function(e){console.log(e.text)}),n.classList.add("is-sending"),s.classList.add("is-disabled")}})}),!1},getContactUs=function(){document.querySelector(".js-contact").addEventListener("click",function(e){e.preventDefault(),e=this.getAttribute("href"),e=document.querySelector(e).offsetTop,window.scroll({top:e,left:0,behavior:"smooth"})})};function toFixSrx(){function e(){var e=document.querySelector("img[data-src]"),t=(document.querySelector("img[data-logo]"),window.innerWidth||document.clientWidth||body.clientWidth);e.src=1023<t&&t<1440?"assets/img/bg-tablet.svg":1440<=t&&t<1920?"assets/img/bg-desktop.svg":1920<=t?"assets/img/bg-lg-screen.svg":"assets/img/bg-mobile.svg"}1==(navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS"))&&(window.addEventListener("load",e),window.addEventListener("resize",e))}function init(){sSlider(),tabs(),toRemoveSectionSlider(),validateForm(),popupClose(),getContactUs(),toFixSrx()}init();